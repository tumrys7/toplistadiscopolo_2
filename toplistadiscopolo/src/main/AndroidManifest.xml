<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    package="com.grandline.toplistadiscopolo"
    android:versionCode="25"
    android:versionName="1.19">

    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
   
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
   
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <!-- For apps targeting Android 13 or higher & GMA SDK version 20.3.0 or lower -->
    <uses-permission android:name="com.google.android.gms.permission.AD_ID"/>
    <!-- Media permissions for better codec handling -->
    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
    
    <!-- Hardware features for media -->
    <uses-feature android:name="android.hardware.audio.output" android:required="false" />
    
    <!-- Queries for Spotify App -->
    <queries>
        <package android:name="com.spotify.music" />
    </queries>

    <application
        android:allowBackup="true"
        android:allowClearUserData="false"
        android:enableOnBackInvokedCallback="true" tools:targetApi="33"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:usesCleartextTraffic="true"
        android:theme="@style/AppTheme"
        android:hardwareAccelerated="true"
        >
        <activity
            android:name=".AdFullscreenActivity"
            android:configChanges="orientation|keyboardHidden|screenSize"
            android:label="@string/title_activity_ad_fullscreen"
	        android:theme="@style/AppTheme"
	    >
        </activity>
        <activity
	        android:name="ListaPrzebojowDiscoPolo"
	        android:configChanges="locale|orientation|keyboardHidden|screenSize"
            android:label="@string/app_name"
            android:theme="@style/AppTheme"

            android:windowSoftInputMode="stateHidden|adjustPan"

            android:resizeableActivity="true"
            android:supportsPictureInPicture="true"

            android:launchMode="singleTop"
            android:exported="true"
            tools:ignore="RedundantLabel">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
            
            <!-- Spotify App Remote Callback -->
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />
                
                <data 
                    android:scheme="com.grandline.toplistadiscopolo"
                    android:host="callback" />
            </intent-filter>
        </activity>
        <activity
            android:name="com.google.android.gms.ads.AdActivity"
            android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize" />
        <activity
            android:name="com.grandline.toplistadiscopolo.OProgramie"
            android:label="@string/title_activity_oprogramie"
            android:theme="@style/AppTheme">
        </activity>
        <activity
            android:name="com.grandline.toplistadiscopolo.UtworyWykonawcy"
            android:label="@string/title_activity_utwory_wykonawcy"
            android:hardwareAccelerated="true"
            android:theme="@style/AppTheme">
        </activity>
        <activity
            android:name="com.grandline.toplistadiscopolo.Preferences"
            android:label="@string/title_activity_preferences"
            android:theme="@style/AppTheme">
        </activity>

        <!-- Override orientation restrictions from Mediation Test Suite to support large screens -->
        <activity
            android:name="com.google.android.ads.mediationtestsuite.activities.ConfigurationItemsSearchActivity"
            android:screenOrientation="unspecified"
            tools:replace="android:screenOrientation" />
        <activity
            android:name="com.google.android.ads.mediationtestsuite.activities.ConfigurationItemDetailActivity"
            android:screenOrientation="unspecified"
            tools:replace="android:screenOrientation" />
        <activity
            android:name="com.google.android.ads.mediationtestsuite.activities.NetworkDetailActivity"
            android:screenOrientation="unspecified"
            tools:replace="android:screenOrientation" />
        <activity
            android:name="com.google.android.ads.mediationtestsuite.activities.HomeActivity"
            android:screenOrientation="unspecified"
            tools:replace="android:screenOrientation" />

        <meta-data
            android:name="com.google.android.gms.ads.APPLICATION_ID"
            android:value="ca-app-pub-9534304538332188~6762519752" />

        <meta-data
            android:name="com.google.android.gms.ads.AD_MANAGER_APP"
            android:value="true"/>
        <uses-library android:name="org.apache.http.legacy" android:required="false"/>
    <uses-library android:name="androidx.window.extensions.jar" android:required="false"/>
        <meta-data
            android:name="com.google.android.gms.ads.flag.OPTIMIZE_INITIALIZATION"
            android:value="true"/>
        <meta-data
            android:name="com.google.android.gms.ads.flag.OPTIMIZE_AD_LOADING"
            android:value="true"/>
        
        <!-- Google Play Services Version -->
        <meta-data
            android:name="com.google.android.gms.version"
            android:value="@integer/google_play_services_version" />
    </application>


</manifest>